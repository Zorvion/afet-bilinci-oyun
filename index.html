<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Afet Bilinci Oyunu</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #eef3f7;
      margin-top: 70px;
    }
    h1 { color: #222; }
    button {
      margin: 10px;
      padding: 10px 25px;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      transition: 0.2s;
    }
    button:hover { background-color: #0056b3; }
    ul { text-align: left; max-width: 400px; margin: 10px auto; }
  </style>
</head>
<body>

  <h1 id="title">Afet Bilinci Oyunu</h1>
  <div id="choices">
    <button onclick="start('deprem')">ðŸŒ‹ Deprem</button>
    <button onclick="start('yangin')">ðŸ”¥ YangÄ±n</button>
  </div>

  <script>
    let score = 0;
    let step = 0;
    let type = "";
    let mistakes = [];

    function start(t) {
      type = t;
      score = 0;
      step = 1;
      mistakes = [];
      showScene();
    }

    function showScene() {
      const title = document.getElementById("title");
      const choices = document.getElementById("choices");

      const scenes = {
        deprem: [
          { q: "Deprem baÅŸladÄ±! Ne yaparsÄ±n?", o: ["KaÃ§","Ã‡Ã¶k, Kapan, Tutun","Camdan bak"], c: 2 },
          { q: "Dolap devriliyor, ne yaparsÄ±n?", o: ["DolabÄ± tut","KafanÄ± koru","Pencereye koÅŸ"], c: 2 },
          { q: "SarsÄ±ntÄ± azalÄ±yor, ne yaparsÄ±n?", o: ["Evin iÃ§inde kal","DÄ±ÅŸarÄ± Ã§Ä±k","Elektrikleri kontrol et"], c: 2 },
          { q: "DÄ±ÅŸarÄ±dasÄ±n, Ã§evre kalabalÄ±k. Ne yaparsÄ±n?", o: ["Arabaya bin","AÃ§Ä±k alanda dur","Binalara yaklaÅŸ"], c: 2 },
          { q: "ArtÃ§Ä± sarsÄ±ntÄ±lar baÅŸladÄ±, ne yaparsÄ±n?", o: ["KoÅŸ","Yine Ã‡Ã¶k-Kapan-Tutun","Duvarda bekle"], c: 2 },
          { q: "Deprem bitti! Ne yaparsÄ±n?", o: ["Eve dÃ¶n","YaralÄ±lara yardÄ±m et","Elektrikleri aÃ§"], c: 2 }
        ],
        yangin: [
          { q: "Evde yangÄ±n Ã§Ä±ktÄ±! Ne yaparsÄ±n?", o: ["Su dÃ¶k","KaÃ§","Pencereye bak"], c: 2 },
          { q: "Duman yayÄ±lÄ±yor, ne yaparsÄ±n?", o: ["KoÅŸ","EÄŸilerek ilerle","CamÄ± aÃ§"], c: 2 },
          { q: "KapÄ±ya ulaÅŸtÄ±n, ne yaparsÄ±n?", o: ["KapÄ±yÄ± aÃ§","KapÄ±nÄ±n sÄ±caklÄ±ÄŸÄ±nÄ± kontrol et","Geri dÃ¶n"], c: 2 },
          { q: "DÄ±ÅŸarÄ± Ã§Ä±ktÄ±n! Ne yaparsÄ±n?", o: ["KomÅŸuya koÅŸ","112â€™yi ara","Eve geri dÃ¶n"], c: 2 },
          { q: "YangÄ±n sÃ¶ndÃ¼. Ne yaparsÄ±n?", o: ["Eve gir","Yetkililerin izni bekle","Camdan bak"], c: 2 }
        ]
      };

      const data = scenes[type];
      if (step > data.length) return showResult();

      const scene = data[step - 1];
      title.innerText = scene.q;
      choices.innerHTML = "";

      scene.o.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => handleAnswer(i + 1, scene.c, scene.q, data.length);
        choices.appendChild(btn);
      });
    }

    function handleAnswer(choice, correct, question, max) {
      if (choice === correct) score += 15;
      else mistakes.push(question);

      step++;
      if (step > max) showResult();
      else showScene();
    }

    function showResult() {
      const bilincli = Math.min(100, score);
      const hatalar = mistakes.length > 0
        ? mistakes.map(x => <li>${x}</li>).join("")
        : "<li>HiÃ§ hata yapmadÄ±n, mÃ¼kemmelsin!</li>";

      document.getElementById("title").innerText = "Oyun Bitti!";
      document.getElementById("choices").innerHTML = `
        <p style="font-size:20px;">BilinÃ§ PuanÄ±n: <b>${bilincli}%</b></p>
        <h3>YanlÄ±ÅŸ DavranÄ±ÅŸlarÄ±n:</h3>
        <ul>${hatalar}</ul>
        <button onclick="window.location.reload()">Ana MenÃ¼ye DÃ¶n</button>
      `;
    }
  </script>

</body>
</html>
