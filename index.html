<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Afet Bilinci Oyunu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {font-family: Arial; text-align:center; background:#eef3f7; margin:0; padding:20px;}
#card {max-width:700px; margin:auto; background:white; padding:20px; border-radius:12px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
button {margin:8px; padding:10px 20px; border:none; border-radius:8px; background:#007bff; color:white; cursor:pointer;}
button:hover {background:#0056b3;}
#progress {height:10px; background:#e6eefc; border-radius:6px; overflow:hidden; margin:10px 0;}
#bar {height:100%; width:0; background:#4caf50;}
</style>
</head>
<body>

<div id="card">
<h1>Afet Bilinci Oyunu</h1>
<div id="menu">
  <p>Bir senaryo seÃ§:</p>
  <button onclick="start('deprem')">ðŸŒ‹ Deprem</button>
  <button onclick="start('yangin')">ðŸ”¥ YangÄ±n</button>
</div>

<div id="game" style="display:none;">
  <div id="progress"><div id="bar"></div></div>
  <h2 id="q"></h2>
  <div id="opts"></div>
  <p id="msg" style="color:#555;"></p>
</div>

<div id="result" style="display:none;">
  <h2 id="title"></h2>
  <p id="scoreText"></p>
  <button onclick="restart()">Tekrar Oyna</button>
  <button onclick="menu()">Ana MenÃ¼</button>
</div>
</div>

<script>
const data={
 deprem:[
  {q:"Deprem baÅŸladÄ±, ne yaparsÄ±n?",o:["Cam kenarÄ±na koÅŸarÄ±m","Ã‡Ã¶k-Kapan-Tutun yaparÄ±m","DÄ±ÅŸarÄ± fÄ±rlarÄ±m"],c:2},
  {q:"Dolap devriliyor!",o:["DolabÄ± tutarÄ±m","BaÅŸÄ±mÄ± korurum","KaÃ§arÄ±m"],c:2},
  {q:"SarsÄ±ntÄ± bitti, ne yaparsÄ±n?",o:["Evde kalÄ±rÄ±m","KontrollÃ¼ Ã§Ä±karÄ±m","AsansÃ¶re binerim"],c:2},
  {q:"Toplanma alanÄ±nda ne yaparsÄ±n?",o:["Yetkililere yardÄ±m ederim","Eve dÃ¶nerim","Telefona bakarÄ±m"],c:1},
  {q:"ArtÃ§Ä± hissediyorsun!",o:["Panik yaparÄ±m","Ã‡Ã¶k-Kapan-Tutun yaparÄ±m","KoÅŸarÄ±m"],c:2},
  {q:"Eve dÃ¶nmeden Ã¶nce ne yaparsÄ±n?",o:["Hasar kontrolÃ¼ yaparÄ±m","Direk girerim","Beklerim"],c:1}
 ],
 yangin:[
  {q:"YangÄ±n Ã§Ä±ktÄ±, ne yaparsÄ±n?",o:["Derhal Ã§Ä±kÄ±ÅŸa yÃ¶nelirim","Pencereyi aÃ§arÄ±m","EÅŸyalarÄ± toplarÄ±m"],c:1},
  {q:"Duman var, nasÄ±l ilerlersin?",o:["EÄŸilerek ilerlerim","Ayakta yÃ¼rÃ¼rÃ¼m","KoÅŸarÄ±m"],c:1},
  {q:"KapÄ±dayken ne yaparsÄ±n?",o:["KapÄ±nÄ±n sÄ±caklÄ±ÄŸÄ±nÄ± kontrol ederim","AÃ§arÄ±m","Geri dÃ¶nerim"],c:1},
  {q:"KapÄ± sÄ±cak, ne yaparsÄ±n?",o:["BaÅŸka Ã§Ä±kÄ±ÅŸ ararÄ±m","Zorla aÃ§arÄ±m","Beklerim"],c:1},
  {q:"DÄ±ÅŸarÄ± Ã§Ä±ktÄ±n, ne yaparsÄ±n?",o:["112'yi ararÄ±m","Ä°zlerim","Eve girerim"],c:1},
  {q:"YanÄ±k yaralÄ± var, ne yaparsÄ±n?",o:["SoÄŸuk su uygularÄ±m","Krem sÃ¼rerim","Dokunmam"],c:1}
 ]
};

let type="",i=0,puan=0;

function start(t){
 type=t;i=0;puan=0;
 document.getElementById("menu").style.display="none";
 document.getElementById("result").style.display="none";
 document.getElementById("game").style.display="block";
 show();
}

function show(){
 const s=data[type];
 if(i>=s.length){end();return;}
 document.getElementById("q").innerText=s[i].q;
 document.getElementById("opts").innerHTML="";
 document.getElementById("bar").style.width=(i/s.length*100)+"%";
 s[i].o.forEach((x,n)=>{
   const b=document.createElement("button");
   b.textContent=x;
   b.onclick=()=>ans(n+1);
   document.getElementById("opts").appendChild(b);
 });
 document.getElementById("msg").textContent="";
}

function ans(n){
 const s=data[type][i];
 if(n===s.c){puan++;document.getElementById("msg").textContent="DoÄŸru âœ”";}
 else{document.getElementById("msg").textContent="YanlÄ±ÅŸ âœ–";}
 i++;
 setTimeout(show,400);
}

function end(){
 document.getElementById("game").style.display="none";
 document.getElementById("result").style.display="block";
 const toplam=data[type].length;
 const y=Math.round(puan/toplam*100);
 document.getElementById("title").innerText=type.toUpperCase()+" TAMAMLANDI";
 document.getElementById("scoreText").innerText=${puan}/${toplam} doÄŸru (%${y});
}

function restart(){start(type);}
function menu(){
 document.getElementById("menu").style.display="block";
 document.getElementById("result").style.display="none";
}
</script>

</body>
</html>
