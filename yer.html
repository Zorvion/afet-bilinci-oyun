<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Yer Afetleri - Afet Bilinci</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f1724 0%, #1f2937 50%, #0f1724 100%);
      color: #fff;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      transition: background 0.5s ease;
    }

    body.bg-correct {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
    }

    body.bg-wrong {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
    }

    header {
      background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
      padding: 18px 24px;
      box-shadow: 0 8px 32px rgba(185, 28, 28, 0.4);
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 2px solid rgba(255,255,255,0.1);
    }
    header h1 { 
      margin: 0; 
      font-size: 24px; 
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    .nav-buttons {
      display: flex;
      gap: 10px;
    }
    .navbtn { 
      background: rgba(11, 18, 32, 0.8);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.2);
      padding: 10px 16px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    .navbtn:hover {
      background: rgba(11, 18, 32, 1);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }

    main { 
      padding: 32px 24px; 
      max-width: 1200px; 
      margin: 0 auto; 
    }

    .intro-text {
      text-align: center;
      font-size: 16px;
      color: #94a3b8;
      margin-bottom: 32px;
      padding: 16px;
      background: rgba(15, 23, 36, 0.6);
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.05);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .tile {
      background: linear-gradient(145deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.8));
      padding: 24px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      cursor: pointer;
      transition: all 0.4s ease;
      border: 2px solid transparent;
      position: relative;
    }

    .tile:hover {
      transform: translateY(-12px) scale(1.02);
      border-color: rgba(14, 165, 164, 0.5);
      box-shadow: 0 20px 40px rgba(14, 165, 164, 0.3);
    }

    .tile-icon {
      font-size: 48px;
      margin-bottom: 12px;
      display: block;
    }

    .tile h3 { 
      margin: 8px 0 12px; 
      color: #ffdede; 
      font-size: 22px;
      font-weight: 700;
    }

    .tile p { 
      margin: 0; 
      color: #cbd5e1; 
      font-size: 14px; 
      line-height: 1.6;
    }

    .tile.selected {
      border-color: #0ea5a4;
      background: linear-gradient(145deg, rgba(14, 165, 164, 0.2), rgba(15, 23, 42, 0.9));
      box-shadow: 0 20px 40px rgba(14, 165, 164, 0.4);
    }

    #detail {
      margin-top: 32px;
      padding: 28px;
      background: linear-gradient(145deg, rgba(7, 16, 36, 0.95), rgba(15, 23, 36, 0.95));
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.7);
      border: 1px solid rgba(255,255,255,0.08);
      min-height: 300px;
    }

    #detail h2 { 
      margin-top: 0; 
      color: #ffefef; 
      font-size: 28px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .info-card {
      background: rgba(14, 165, 164, 0.1);
      border-left: 4px solid #0ea5a4;
      padding: 16px;
      border-radius: 8px;
      margin: 16px 0;
      color: #e0f2f1;
      line-height: 1.7;
    }

    .btn {
      display: inline-block;
      margin: 12px 12px 0 0;
      background: linear-gradient(135deg, #0ea5a4 0%, #0891b2 100%);
      color: #042027;
      border: none;
      padding: 14px 28px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 700;
      font-size: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(14, 165, 164, 0.4);
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(14, 165, 164, 0.6);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .btn.secondary { 
      background: linear-gradient(135deg, #1f6feb 0%, #3b82f6 100%);
      color: #fff;
      box-shadow: 0 4px 12px rgba(31, 111, 235, 0.4);
    }

    .game-area { 
      margin-top: 24px; 
      background: linear-gradient(145deg, rgba(7, 17, 38, 0.9), rgba(2, 16, 36, 0.9));
      padding: 28px; 
      border-radius: 16px;
      border: 1px solid rgba(14, 165, 164, 0.3);
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #0ea5a4, #22c55e);
      transition: width 0.5s ease;
      box-shadow: 0 0 10px rgba(14, 165, 164, 0.8);
    }

    .q { 
      font-size: 20px; 
      margin-bottom: 24px; 
      color: #e6f7ff; 
      font-weight: 600;
      line-height: 1.6;
      padding: 16px;
      background: rgba(14, 165, 164, 0.05);
      border-radius: 12px;
      border-left: 4px solid #0ea5a4;
    }

    .choice { 
      display: block; 
      width: 100%; 
      text-align: left; 
      margin: 12px 0; 
      padding: 16px 20px; 
      background: linear-gradient(135deg, rgba(9, 34, 58, 0.8), rgba(7, 25, 45, 0.8));
      color: #dbeafe; 
      border-radius: 12px; 
      border: 2px solid rgba(255,255,255,0.1);
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 16px;
      font-weight: 500;
    }

    .choice:hover { 
      transform: translateX(8px);
      background: linear-gradient(135deg, rgba(14, 165, 164, 0.2), rgba(9, 34, 58, 0.9));
      border-color: rgba(14, 165, 164, 0.5);
    }

    .choice:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }

    .result { 
      font-size: 18px; 
      margin-top: 20px; 
      color: #f1f5f9;
      line-height: 1.8;
    }

    .result ul {
      background: rgba(0,0,0,0.3);
      padding: 20px 20px 20px 40px;
      border-radius: 12px;
      margin-top: 16px;
    }

    .result li {
      margin-bottom: 16px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .score-display {
      display: inline-block;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 24px;
      font-weight: 700;
      margin: 16px 0;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4);
    }

    .congrats {
      font-size: 48px;
      text-align: center;
      margin: 20px 0;
    }

    @media(max-width: 768px) {
      header h1 { font-size: 18px; }
      .tile h3 { font-size: 18px; }
      .q { font-size: 18px; }
      main { padding: 20px 16px; }
    }
  </style>
</head>
<body>

  <header>
    <h1>ğŸŒ Yer Afetleri - Yeni Nesil EÄŸitim</h1>
    <div class="nav-buttons">
      <button class="navbtn" id="homeBtn">ğŸ  Ana Sayfa</button>
      <button class="navbtn" id="aboutBtn">â„¹ï¸ HakkÄ±nda</button>
    </div>
  </header>

  <main>
    <div class="intro-text">
      ğŸ¯ <strong>AÅŸaÄŸÄ±dan bir afet tÃ¼rÃ¼ seÃ§:</strong> Bilgi kartÄ±nÄ± okuyarak Ã¶ÄŸren veya "Oyna" butonuyla 5 soruluk interaktif testi baÅŸlat!
    </div>

    <div class="grid" id="tiles">
      <div class="tile" id="tile-deprem">
        <span class="tile-icon">ğŸ«¨</span>
        <h3>Deprem</h3>
        <p>KÄ±sa sarsÄ±ntÄ±lar, bina gÃ¼venliÄŸi, Ã§Ã¶k-kapan-tutun gibi temel davranÄ±ÅŸlarÄ± iÃ§erir.</p>
      </div>

      <div class="tile" id="tile-heyelan">
        <span class="tile-icon">ğŸï¸</span>
        <h3>Heyelan</h3>
        <p>YaÄŸÄ±ÅŸ sonrasÄ± toprak hareketleri, zemin Ã§atlaklarÄ± ve hÄ±zlÄ± tahliye kararlarÄ±.</p>
      </div>

      <div class="tile" id="tile-volkan">
        <span class="tile-icon">ğŸŒ‹</span>
        <h3>Volkan PatlamasÄ±</h3>
        <p>Volkanik kÃ¼l, gaz ve tahliye Ã¶nlemlerine dair bilgi ve senaryolar.</p>
      </div>
    </div>

    <div id="detail">
      <h2 id="detailTitle">ğŸ® Bir Afet TÃ¼rÃ¼ SeÃ§in</h2>
      <p id="detailText" style="color:#94a3b8; font-size:16px;">YukarÄ±daki kartlardan birini seÃ§erek bilgi alabilir veya oyunu baÅŸlatabilirsiniz.</p>

      <div id="detailButtons"></div>

      <div id="game" class="game-area" style="display:none;">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width:0%"></div>
        </div>
        <div id="qbox"></div>
        <div id="choicesBox"></div>
        <div id="after" style="display:none;">
          <div class="result" id="resultText"></div>
          <button class="btn secondary" id="backBtn">ğŸ”™ BaÅŸka Afet SeÃ§</button>
        </div>
      </div>
    </div>
  </main>

<script>
  var data = {
    deprem: [
      { q: "Deprem anÄ±nda ilk yapÄ±lmasÄ± gereken nedir?", opts: ["Ã‡Ã¶kâ€“Kapanâ€“Tutun", "Hemen dÄ±ÅŸarÄ± koÅŸmak", "Pencereye koÅŸmak"], a: 0, explain: "Ã‡Ã¶k-Kapan-Tutun vÃ¼cudu korur ve en gÃ¼venli ilk tepkidir." },
      { q: "SarsÄ±ntÄ± sÄ±rasÄ±nda asansÃ¶r kullanmak gÃ¼venli midir?", opts: ["HayÄ±r, asansÃ¶r tehlikelidir", "Evet, hÄ±zlÄ± Ã§Ä±karÄ±r", "Fark etmez"], a: 0, explain: "AsansÃ¶rlerde mahsur kalma riski vardÄ±r; merdiven tercih edilir." },
      { q: "Dolap veya aÄŸÄ±r eÅŸyalardan uzak durmak neden Ã¶nemlidir?", opts: ["DÃ¼ÅŸebilir ve yaralanma oluÅŸturur", "GÃ¶rÃ¼ntÃ¼ kÃ¶tÃ¼ olur", "Para kaybÄ± olur"], a: 0, explain: "Devrilen eÅŸyalar ciddi yaralanmalara neden olabilir." },
      { q: "Deprem sonrasÄ± evine girmeden Ã¶nce ne yapÄ±lmalÄ±?", opts: ["YapÄ±sal hasar kontrolÃ¼ ve yetkili izin beklenmeli", "Hemen eÅŸyalarÄ± almak iÃ§in girilmeli", "KomÅŸulara haber vermeli"], a: 0, explain: "HasarlÄ± binalar risklidir; yetkililerin kontrolÃ¼ gerekir." },
      { q: "Acil durum Ã§antasÄ±nda ne bulunmalÄ±dÄ±r?", opts: ["Su, ilaÃ§, fener ve kimlik", "Sadece telefon ve para", "Sadece yiyecek"], a: 0, explain: "Temel malzemeler hayatta kalma iÃ§in kritik Ã¶neme sahiptir." }
    ],
    heyelan: [
      { q: "Heyelan riski yaratan en Ã¶nemli durum nedir?", opts: ["AÄŸÄ±r yaÄŸÄ±ÅŸ ve doygun toprak", "RÃ¼zgÃ¢r", "SÄ±cak hava"], a: 0, explain: "Uzun sÃ¼reli yoÄŸun yaÄŸÄ±ÅŸ toprak doygunluÄŸunu artÄ±rÄ±r." },
      { q: "Zemin Ã§atlaklarÄ± gÃ¶rÃ¼rsen ne yapmalÄ±sÄ±n?", opts: ["Hemen gÃ¼venli bÃ¶lgeye gitmelisin", "FotoÄŸraf Ã§ekmelisin", "Bekleyip izlemelisin"], a: 0, explain: "Ã‡atlaklar bÃ¶lgenin kararsÄ±z olduÄŸuna iÅŸaret eder." },
      { q: "Heyelan anÄ±nda hangi yÃ¶ne hareket etmelisin?", opts: ["YukarÄ±/yanlara gÃ¼venli ÅŸekilde kaÃ§Ä±lmalÄ±", "AÅŸaÄŸÄ± doÄŸru hÄ±zla inilmeli", "Yerinde durmalÄ±"], a: 0, explain: "YamaÃ§tan uzaklaÅŸmak ve yÃ¼ksek noktalara gitmek gÃ¼venlidir." },
      { q: "Ev heyelan riskliyse hangi adÄ±m Ã¶nemlidir?", opts: ["Tahliye planÄ± oluÅŸturmak ve uygulamak", "EÅŸyalarÄ± toplamayÄ± beklemek", "Yetkilileri aramayÄ± beklemek"], a: 0, explain: "Tahliye yaÅŸamÄ± kurtarÄ±r; eÅŸyalar ikincildir." },
      { q: "Heyelan sonrasÄ± bÃ¶lgeye ne zaman yaklaÅŸÄ±lmalÄ±?", opts: ["Yetkililerin izni ve gÃ¼venlik onayÄ± sonrasÄ±", "Hemen gidip kontrol edilmeli", "1 saat sonra"], a: 0, explain: "Profesyonel izin olmadan bÃ¶lgeye yaklaÅŸmamalÄ±sÄ±n." }
    ],
    volkan: [
      { q: "Volkanik kÃ¼l neden tehlikelidir?", opts: ["Solunum yollarÄ±nÄ± ve makineleri tÄ±kar", "Sadece kirlilik yapar", "KÃ¶tÃ¼ kokar"], a: 0, explain: "KÃ¼l solunum problemleri ve makine arÄ±zalarÄ±na yol aÃ§ar." },
      { q: "KÃ¼l yaÄŸÄ±ÅŸÄ± sÄ±rasÄ±nda dÄ±ÅŸarÄ± Ã§Ä±kmalÄ± mÄ±sÄ±n?", opts: ["HayÄ±r, iÃ§erde kalÄ±p pencereleri kapat", "Evet, dÄ±ÅŸarÄ±dan temizlemelisin", "Fark etmez"], a: 0, explain: "Ä°Ã§eride kalmak ve filtre/maske kullanmak daha gÃ¼venlidir." },
      { q: "Volkanik gazlara karÅŸÄ± ne yapÄ±lmalÄ±?", opts: ["Tahliye ve kapalÄ± alanlara sÄ±ÄŸÄ±nma", "AÃ§Ä±kta kalÄ±p bekleme", "Derin nefes almak"], a: 0, explain: "ZararlÄ± gazlar ciddi saÄŸlÄ±k riski yaratÄ±r." },
      { q: "Volkanik patlama sonrasÄ± su kaynaklarÄ± neden kontrol edilmeli?", opts: ["KÃ¼l ve mineraller suyu kirletebilir", "Su aynen gÃ¼venlidir", "Sadece koku kontrolÃ¼ iÃ§in"], a: 0, explain: "Kirlenme varsa iÃ§me suyu tehlikeli olabilir." },
      { q: "Afet Ã§antasÄ±nda volkan iÃ§in ekstra ne bulundurulmalÄ±?", opts: ["Maske, gÃ¶z korumasÄ±, battaniye", "Sadece telefon", "Sadece su"], a: 0, explain: "Maske ve gÃ¶z korumasÄ± kÃ¼lÃ¼n zararÄ±nÄ± azaltÄ±r." }
    ]
  };

  var currentType = null;
  var sceneIndex = 0;
  var score = 0;
  var mistakes = [];
  var isAnswering = false;

  function selectDisaster(type) {
    currentType = type;
    sceneIndex = 0;
    score = 0;
    mistakes = [];
    isAnswering = false;

    var tiles = document.querySelectorAll('.tile');
    for (var i = 0; i < tiles.length; i++) {
      tiles[i].classList.remove('selected');
    }
    document.getElementById('tile-' + type).classList.add('selected');

    var titles = {
      deprem: "ğŸ«¨ Deprem",
      heyelan: "ğŸï¸ Heyelan",
      volkan: "ğŸŒ‹ Volkan PatlamasÄ±"
    };

    var infos = {
      deprem: "Deprem anÄ±nda <strong>Ã‡Ã¶kâ€“Kapanâ€“Tutun</strong> uygulayÄ±n. AsansÃ¶r kullanmayÄ±n, aÄŸÄ±r eÅŸyalarÄ± sabitleyin.",
      heyelan: "Heyelan riskinde <strong>zemin Ã§atlaklarÄ±nÄ±</strong> gÃ¶zleyin, yÃ¼ksek ve gÃ¼venli alanlara Ã§ekilin.",
      volkan: "Volkanik durumlarda <strong>kÃ¼l solunumu ve gaz zararlarÄ±na</strong> dikkat edin. Maske kullanÄ±n."
    };

    document.getElementById('detailTitle').innerHTML = titles[type];
    document.getElementById('detailText').innerHTML = '<div class="info-card">' + infos[type] + '</div>';

    var db = document.getElementById('detailButtons');
    db.innerHTML = '';

    var playBtn = document.createElement('button');
    playBtn.className = 'btn';
    playBtn.innerHTML = 'â–¶ï¸ Oyunu BaÅŸlat';
    playBtn.addEventListener('click', function() {
      startGame(type);
    });
    db.appendChild(playBtn);

    var infoBtn = document.createElement('button');
    infoBtn.className = 'btn secondary';
    infoBtn.innerHTML = 'ğŸ“‹ DetaylÄ± Bilgi';
    infoBtn.addEventListener('click', function() {
      showInfoCard(type);
    });
    db.appendChild(infoBtn);

    document.getElementById('game').style.display = 'none';
    document.getElementById('after').style.display = 'none';
  }

  function showInfoCard(type) {
    var detailedInfo = {
      deprem: "<h3 style='color:#0ea5a4;'>ğŸ“š Deprem HakkÄ±nda</h3><p>Yer kabuÄŸundaki ani kÄ±rÄ±lma ve enerji boÅŸalmasÄ± sonucu oluÅŸur.</p><ul style='text-align:left;'><li><strong>Ã–ncesi:</strong> Acil durum Ã§antasÄ± hazÄ±rlayÄ±n</li><li><strong>SÄ±rasÄ±nda:</strong> Ã‡Ã¶k-Kapan-Tutun, asansÃ¶r kullanmayÄ±n</li><li><strong>SonrasÄ±:</strong> HasarlÄ± binalara girmeyin</li></ul>",
      heyelan: "<h3 style='color:#0ea5a4;'>ğŸ“š Heyelan HakkÄ±nda</h3><p>YoÄŸun yaÄŸÄ±ÅŸ sonucu topraÄŸÄ±n ve kayalarÄ±n yamaÃ§tan kaymasÄ±dÄ±r.</p><ul style='text-align:left;'><li><strong>Risk:</strong> Zemin Ã§atlaklarÄ±, aÄŸaÃ§ eÄŸilmeleri</li><li><strong>Tehlike:</strong> Yamaca dik yÃ¶nde kaÃ§Ä±n</li><li><strong>SonrasÄ±:</strong> Yetkili onayÄ± bekleyin</li></ul>",
      volkan: "<h3 style='color:#0ea5a4;'>ğŸ“š Volkan HakkÄ±nda</h3><p>YeraltÄ±ndaki magmanÄ±n yÃ¼zeye Ã§Ä±kmasÄ± ve kÃ¼l, gaz salÄ±nÄ±mÄ±dÄ±r.</p><ul style='text-align:left;'><li><strong>Tehlike:</strong> KÃ¼l yaÄŸÄ±ÅŸÄ±, zehirli gazlar</li><li><strong>Korunma:</strong> Maske kullanÄ±n, iÃ§eride kalÄ±n</li><li><strong>Tahliye:</strong> Yetkililerin talimatlarÄ±nÄ± bekleyin</li></ul>"
    };

    document.getElementById('detailText').innerHTML = '<div class="info-card">' + detailedInfo[type] + '</div>';
  }

  function startGame(type) {
    currentType = type;
    sceneIndex = 0;
    score = 0;
    mistakes = [];
    isAnswering = false;

    document.getElementById('game').style.display = 'block';
    document.getElementById('after').style.display = 'none';
    renderScene();
  }

  function renderScene() {
    var scenes = data[currentType];
    if (!scenes) return;

    if (sceneIndex >= scenes.length) {
      return finishGame();
    }

    var scene = scenes[sceneIndex];
    var progress = ((sceneIndex + 1) / scenes.length) * 100;
    document.getElementById('progressFill').style.width = progress + '%';

    var qbox = document.getElementById('qbox');
    qbox.innerHTML = '<div class="q">Soru ' + (sceneIndex + 1) + ' / ' + scenes.length + ': ' + scene.q + '</div>';

    var choicesBox = document.getElementById('choicesBox');
    choicesBox.innerHTML = '';

    for (var i = 0; i < scene.opts.length; i++) {
      var btn = document.createElement('button');
      btn.className = 'choice';
      btn.textContent = scene.opts[i];
      btn.setAttribute('data-index', i);
      btn.addEventListener('click', function() {
        if (!isAnswering) {
          var selectedIndex = parseInt(this.getAttribute('data-index'));
          chooseAnswer(selectedIndex);
        }
      });
      choicesBox.appendChild(btn);
    }
  }

  function chooseAnswer(selectedIndex) {
    if (isAnswering) return;
    isAnswering = true;

    var scene = data[currentType][sceneIndex];
    var isCorrect = (selectedIndex === scene.a);

    var choices = document.querySelectorAll('.choice');
    for (var i = 0; i < choices.length; i++) {
      choices[i].disabled = true;
    }

    var body = document.body;
    if (isCorrect) {
      body.classList.add('bg-correct');
      score++;
    } else {
      body.classList.add('bg-wrong');
      mistakes.push({
        index: sceneIndex + 1,
        q: scene.q,
        selected: scene.opts[selectedIndex],
        correct: scene.opts[scene.a],
        why: scene.explain
      });
    }

    setTimeout(function() {
      body.classList.remove('bg-correct', 'bg-wrong');
      sceneIndex++;
      isAnswering = false;
      renderScene();
    }, 1000);
  }

  function finishGame() {
    document.getElementById('game').style.display = 'block';
    document.getElementById('after').style.display = 'block';
    document.getElementById('qbox').innerHTML = '';
    document.getElementById('choicesBox').innerHTML = '';

    var total = data[currentType].length;
    var res = document.getElementById('resultText');
    var txt = '';

    if (mistakes.length === 0) {
      txt = '<div class="congrats">ğŸ‰</div><div class="score-display">MÃ¼kemmel: ' + score + '/' + total + '</div><p>Tebrikler! TÃ¼m sorular doÄŸru!</p>';
    } else {
      txt = '<div class="score-display">Skor: ' + score + '/' + total + '</div>';
      txt += '<p><strong>YanlÄ±ÅŸ yaptÄ±ÄŸÄ±n sorular:</strong></p><ul style="text-align:left;">';
      for (var i = 0; i < mistakes.length; i++) {
        var m = mistakes[i];
        txt += '<li><b>Soru ' + m.index + ':</b> ' + m.q + '<br>';
        txt += '<span style="color:#ff9999">âŒ Senin cevabÄ±n: ' + m.selected + '</span><br>';
        txt += '<span style="color:#99ff99">âœ… DoÄŸru cevap: ' + m.correct + '</span><br>';
        txt += '<small style="color:#9aa5b1">ğŸ’¡ ' + m.why + '</small></li>';
      }
      txt += '</ul>';
    }
    res.innerHTML = txt;
  }

  function backToSelection() {
    document.getElementById('game').style.display = 'none';
    document.getElementById('after').style.display = 'none';
    document.getElementById('detailTitle').innerHTML = 'ğŸ® Bir Afet TÃ¼rÃ¼ SeÃ§in';
    document.getElementById('detailText').innerHTML = '<p style="color:#94a3b8; font-size:16px;">YukarÄ±daki kartlardan birini seÃ§erek bilgi alabilir veya oyunu baÅŸlatabilirsiniz.</p>';
    document.getElementById('detailButtons').innerHTML = '';

    var tiles = document.querySelectorAll('.tile');
    for (var i = 0; i < tiles.length; i++) {
      tiles[i].classList.remove('selected');
    }

    currentType = null;
    sceneIndex = 0;
    score = 0;
    mistakes = [];
    isAnswering = false;
  }

  document.getElementById('tile-deprem').addEventListener('click', function() {
    selectDisaster('deprem');
  });

  document.getElementById('tile-heyelan').addEventListener('click', function() {
    selectDisaster('heyelan');
  });

  document.getElementById('tile-volkan').addEventListener('click', function() {
    selectDisaster('volkan');
  });

  document.getElementById('homeBtn').addEventListener('click', function() {
    window.location.href = 'index.html';
  });

  document.getElementById('aboutBtn').addEventListener('click', function() {
    window.location.href = 'hakkinda.html';
  });

  document.getElementById('backBtn').addEventListener('click', backToSelection);
</script>

</body>
</html>