<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Yer Afetleri - Afet Bilinci</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: linear-gradient(135deg,#0f1724,#1f2937);
      color: #fff;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    header {
      background:#b91c1c;
      padding:14px 18px;
      box-shadow:0 6px 18px rgba(0,0,0,0.4);
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    header h1 { margin:0; font-size:20px; }
    header .navbtn { background:#0b1220;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer; }
    main { padding:28px; max-width:900px; margin:0 auto; }
    .grid {
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
      gap:18px;
      margin-bottom:22px;
    }
    .tile {
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      padding:16px;
      border-radius:14px;
      box-shadow:0 8px 24px rgba(0,0,0,0.45);
      cursor:pointer;
      transition:transform .18s, background .18s;
      border:1px solid rgba(255,255,255,0.04);
    }
    .tile:hover{ transform:translateY(-6px); background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02)); }
    .tile h3{ margin:6px 0 8px; color:#ffdede; }
    .tile p{ margin:0; color:#cbd5e1; font-size:14px; line-height:1.4; }
    #detail { margin-top:18px; padding:16px; background:#071024; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.6); }
    #detail h2{ margin-top:0; color:#ffefef; }
    .small { color:#9aa5b1; font-size:13px; margin-top:8px; }
    .btn {
      display:inline-block;
      margin:12px 8px 0 0;
      background:#0ea5a4;
      color:#042027;
      border:none;
      padding:10px 16px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
    }
    .btn.secondary { background:#1f6feb; color:#fff; }
    .game-area { margin-top:18px; background:linear-gradient(180deg,#071126,#021024); padding:18px; border-radius:12px; }
    .q { font-size:18px; margin-bottom:16px; color:#e6f7ff; }
    .choice { display:block; width:100%; text-align:center; margin:8px 0; padding:10px; background:#09223a; color:#dbeafe; border-radius:10px; border:1px solid rgba(255,255,255,0.03); cursor:pointer; }
    .choice:hover{ transform:translateY(-3px); }
    .correct { animation:flashCorrect .6s; background:#22c55e !important; color:#042018 !important; }
    .wrong { animation:flashWrong .6s; background:#ef4444 !important; color:#fff !important; }
    @keyframes flashCorrect { 0%{background:#09223a} 50%{background:#22c55e} 100%{background:#09223a} }
    @keyframes flashWrong { 0%{background:#09223a} 50%{background:#ef4444} 100%{background:#09223a} }
    .result { font-size:18px; margin-top:12px; color:#f1f5f9; }
    .backlink { margin-top:14px; display:inline-block; color:#bae6fd; text-decoration:underline; cursor:pointer; }
    @media(max-width:520px){ header h1{font-size:16px} .tile h3{font-size:16px} .q{font-size:16px} }
  </style>
</head>
<body>

  <header>
    <h1>ğŸŒ Yer Afetleri</h1>
    <div>
      <button class="navbtn" onclick="window.location.href='index.html'">ğŸ  Ana Sayfa</button>
      <button class="navbtn" onclick="window.location.href='hakkinda.html'">â„¹ï¸ HakkÄ±nda</button>
    </div>
  </header>

  <main>
    <p class="small">AÅŸaÄŸÄ±dan bir afet seÃ§: bilgi kartÄ±nÄ± oku veya "Oyna" tuÅŸuyla doÄŸrudan o afetin 5 sahneli oyununu baÅŸlat.</p>

    <div class="grid" id="tiles">
      <div class="tile" onclick="select('deprem')">
        <h3>ğŸŒ‹ Deprem</h3>
        <p>KÄ±sÄ±tlÄ± sarsÄ±ntÄ±lar, bina gÃ¼venliÄŸi, Ã§Ã¶k-kapan-tutun gibi temel davranÄ±ÅŸlarÄ± iÃ§erir.</p>
      </div>

      <div class="tile" onclick="select('heyelan')">
        <h3>ğŸï¸ Heyelan</h3>
        <p>YaÄŸÄ±ÅŸ sonrasÄ± toprak hareketleri, zemin Ã§atlaklarÄ± ve hÄ±zlÄ± tahliye kararlarÄ± ile ilgili senaryolar.</p>
      </div>

      <div class="tile" onclick="select('volkan')">
        <h3>ğŸŒ‹ Volkan</h3>
        <p>Volkanik kÃ¼l, gaz ve tahliye Ã¶nlemlerine dair bilgi ve kÄ±sa uygulamalÄ± senaryolar.</p>
      </div>
    </div>

    <div id="detail">
      <h2 id="detailTitle">SeÃ§im bekleniyor</h2>
      <p id="detailText" class="small">Bir afet seÃ§erek bilgi kartÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyebilir veya hemen oynamaya baÅŸlayabilirsin.</p>

      <div id="detailButtons" style="margin-top:10px;"></div>

      <!-- Oyun alanÄ± (gizli, seÃ§im yapÄ±ldÄ±ÄŸÄ±nda gÃ¶sterilecek) -->
      <div id="game" class="game-area" style="display:none;">
        <div id="qbox"></div>
        <div id="choicesBox"></div>
        <div id="after" style="display:none;">
          <div class="result" id="resultText"></div>
          <button class="btn secondary" onclick="backToSelection()">ğŸ”™ Geri DÃ¶n</button>
        </div>
      </div>
    </div>
  </main>

<script>
  // Sahne verileri (her afet 5 sahne, doÄŸru=1 false=0 gibi)
  const data = {
    deprem: [
      { q:"Deprem anÄ±nda ilk yapÄ±lmasÄ± gereken nedir?", opts:["Ã‡Ã¶kâ€“Kapanâ€“Tutun","Hemen dÄ±ÅŸarÄ± koÅŸmak"], a:0, explain:"Ã‡Ã¶k-Kapan-Tutun vÃ¼cudu korur ve en gÃ¼venli ilk tepkidir." },
      { q:"SarsÄ±ntÄ± sÄ±rasÄ±nda asansÃ¶r kullanmak gÃ¼venli mi?", opts:["HayÄ±r, asansÃ¶r tehlikelidir","Evet, hÄ±zlÄ± Ã§Ä±kar"], a:0, explain:"AsansÃ¶rlerde kalma riski vardÄ±r; merdiven tercih edilir." },
      { q:"Dolap veya aÄŸÄ±r eÅŸyalardan uzak durmak neden Ã¶nemli?", opts:["DÃ¼ÅŸebilir ve yaralanma oluÅŸturur","GÃ¶rÃ¼ntÃ¼ kÃ¶tÃ¼ olur sadece"], a:0, explain:"Devralan eÅŸyalar ciddi yaralanmalara neden olabilir." },
      { q:"Deprem sonrasÄ± evine girmeden Ã¶nce ne yapÄ±lmalÄ±?", opts:["YapÄ±sal hasar kontrolÃ¼ ve yetkili izin beklenmeli","Hemen eÅŸyalarÄ± almak iÃ§in girilmeli"], a:0, explain:"HasarlÄ± binalar risklidir; yetkililerin kontrolÃ¼ gerekir." },
      { q:"Acil durum Ã§antasÄ±nda ne bulunmalÄ±?", opts:["Su, ilaÃ§, fener ve kimlik","Sadece telefon ve para"], a:0, explain:"Temel malzemeler hayatta kalma ve iletiÅŸim iÃ§in Ã¶nemlidir." }
    ],
    heyelan: [
      { q:"Heyelan riski yaratan en Ã¶nemli durum nedir?", opts:["AÄŸÄ±r yaÄŸÄ±ÅŸ ve doygun toprak","RÃ¼zgÃ¢r"], a:0, explain:"Uzun sÃ¼reli yoÄŸun yaÄŸÄ±ÅŸ toprak doygunluÄŸunu artÄ±rÄ±r." },
      { q:"Zemin Ã§atlaklarÄ± gÃ¶rÃ¼rsen ne yapmalÄ±sÄ±n?", opts:["Hemen gÃ¼venli bÃ¶lgeye gitmelisin","FotoÄŸraf Ã§ekmelisin"], a:0, explain:"Ã‡atlaklar bÃ¶lgenin kararsÄ±z olduÄŸuna iÅŸaret eder; uzaklaÅŸ." },
      { q:"Heyelan anÄ±nda aÅŸaÄŸÄ± inmeli mi yoksa Ã§Ä±kmalÄ± mÄ±?", opts:["YukarÄ±/yanlara gÃ¼venli ÅŸekilde kaÃ§Ä±lmalÄ±","AÅŸaÄŸÄ± doÄŸru hÄ±zla inilmeli"], a:0, explain:"YamaÃ§tan uzaklaÅŸmak ve yÃ¼ksek noktalara gitmek gÃ¼venlidir." },
      { q:"Ev heyelan riskliyse hangi adÄ±m Ã¶nemlidir?", opts:["Tahliye planÄ± oluÅŸturmak ve uygulamak","EÅŸyalarÄ± toplamayÄ± beklemek"], a:0, explain:"Tahliye yaÅŸamÄ± kurtarÄ±r; eÅŸyalar ikincildir." },
      { q:"Heyelan sonrasÄ± bÃ¶lgeye ne zaman yaklaÅŸÄ±lmalÄ±?", opts:["Yetkililerin izni ve gÃ¼venlik onayÄ± sonrasÄ±","Hemen gidip kontrol edilmeli"], a:0, explain:"Profesyonel izin olmadan bÃ¶lgeye yaklaÅŸma." }
    ],
    volkan: [
      { q:"Volkanik kÃ¼l neden tehlikelidir?", opts:["Solunum yollarÄ±nÄ± ve makineleri tÄ±kar","Sadece kirlilik yapar"], a:0, explain:"KÃ¼l solunum problemleri ve makine arÄ±zalarÄ±na yol aÃ§ar." },
      { q:"KÃ¼l yaÄŸÄ±ÅŸÄ± sÄ±rasÄ±nda dÄ±ÅŸarÄ± Ã§Ä±kmalÄ± mÄ±sÄ±n?", opts:["HayÄ±r, iÃ§erde kalÄ±p pencereleri kapat","Evet, dÄ±ÅŸarÄ±dan temizlemelisin"], a:0, explain:"Ä°Ã§eride kalmak ve filtre/maske kullanmak daha gÃ¼venlidir." },
      { q:"Volkanik gazlara karÅŸÄ± ne yapÄ±lmalÄ±?", opts:["Tahliye ve kapalÄ± alanlara sÄ±ÄŸÄ±nma","AÃ§Ä±kta kalÄ±p bekleme"], a:0, explain:"ZararlÄ± gazlar ciddi saÄŸlÄ±k riski yaratÄ±r; gÃ¼venli bÃ¶lgeye git." },
      { q:"Volkanik patlama sonrasÄ± su kaynaklarÄ± neden kontrol edilmeli?", opts:["KÃ¼l ve mineraller suyu kirletebilir","Su aynen gÃ¼venlidir"], a:0, explain:"Kirlenme varsa iÃ§me suyu tehlikeli olabilir." },
      { q:"Afet Ã§antasÄ±nda volkan iÃ§in ekstra ne bulundurulmalÄ±?", opts:["Maske, gÃ¶z korumasÄ±, battaniye","Sadece telefon"], a:0, explain:"Maske ve gÃ¶z korumasÄ± kÃ¼lÃ¼n zararÄ±nÄ± azaltÄ±r." }
    ]
  };

  // Durum
  let current = null;
  let sceneIndex = 0;
  let score = 0;
  let mistakes = [];

  // SeÃ§im gÃ¶ster
  function select(key) {
    current = key;
    sceneIndex = 0;
    score = 0;
    mistakes = [];
    // Detay bilgisi
    const title = {deprem:"Deprem", heyelan:"Heyelan", volkan:"Volkan"}[key];
    document.getElementById('detailTitle').innerText = title;
    document.getElementById('detailText').innerText = "KÄ±sa bilgi: " + (key === 'deprem'
      ? "Deprem anÄ±nda Ã‡Ã¶kâ€“Kapanâ€“Tutun uygulayÄ±n. AsansÃ¶r kullanmayÄ±n; aÄŸÄ±r eÅŸya sabitleyin."
      : key === 'heyelan'
        ? "Heyelan riskinde zemin Ã§atlaklarÄ±nÄ± gÃ¶zleyin, yÃ¼ksek ve gÃ¼venli alanlara Ã§ekilin."
        : "Volkanik durumlarda kÃ¼l solunumu ve gaz zararlarÄ±na dikkat; maske ve kapalÄ± alan Ã¶nemlidir.");
    // Butonlar: bilgi oku ve oyna
    const db = document.getElementById('detailButtons');
    db.innerHTML = '';
    const infoBtn = document.createElement('button');
    infoBtn.className = 'btn secondary';
    infoBtn.innerText = 'Bilgi KartÄ±nÄ± GÃ¶ster';
    infoBtn.onclick = () => showInfoCard(key);
    db.appendChild(infoBtn);

    const playBtn = document.createElement('button');
    playBtn.className = 'btn';
    playBtn.innerText = 'Oyna â–¶';
    playBtn.onclick = () => startGame(key);
    db.appendChild(playBtn);

    // gizle oyun alanÄ±
    document.getElementById('game').style.display = 'none';
    document.getElementById('after').style.display = 'none';
  }

  function showInfoCard(key) {
    const infoMap = {
      deprem: "Deprem: Ã‡Ã¶k-Kapan-Tutun uygulamasÄ± hayat kurtarÄ±r. AsansÃ¶r kullanma, aÄŸÄ±r nesneleri sabitle. Aile toplanma noktasÄ±nÄ± belirle.",
      heyelan: "Heyelan: YoÄŸun yaÄŸÄ±ÅŸ sonrasÄ± eÄŸimli arazilerde toprak kaymasÄ± olabilir. Zemin Ã§atlaklarÄ±na dikkat et, gÃ¼venli alanlara Ã§ekil.",
      volkan: "Volkan: KÃ¼l ve gaz tehlikesi vardÄ±r. Maskeyle solumayÄ± koru, dÄ±ÅŸarÄ± Ã§Ä±kma, su kaynaklarÄ±nÄ± koru."
    };
    document.getElementById('detailTitle').innerText += " â€” Bilgi KartÄ±";
    document.getElementById('detailText').innerText = infoMap[key];
    // show small backlink
    const db = document.getElementById('detailButtons');
    db.innerHTML = '<button class="btn secondary" onclick="startGame(\''+key+'\')">Oyna â–¶</button> <button class="btn" onclick="select(\''+key+'\')">Geri</button>';
  }

  function startGame(key) {
    current = key;
    sceneIndex = 0;
    score = 0;
    mistakes = [];
    document.getElementById('game').style.display = 'block';
    document.getElementById('after').style.display = 'none';
    renderScene();
  }

  function renderScene() {
    const g = document.getElementById('game');
    const qbox = document.getElementById('qbox');
    const cb = document.getElementById('choicesBox');
    const scenes = data[current];
    if (!scenes) return;
    if (sceneIndex >= scenes.length) return finishGame();
    const s = scenes[sceneIndex];
    qbox.innerHTML = '<div class="q">'+(sceneIndex+1)+'. '+s.q+'</div>';
    cb.innerHTML = '';
    s.opts.forEach((opt, i) => {
      const b = document.createElement('button');
      b.className = 'choice';
      b.innerText = opt;
      b.onclick = () => choose(b, i === s.a, s);
      cb.appendChild(b);
    });
  }

  function choose(btn, correct, sceneObj) {
    // disable further clicks quickly
    Array.from(document.querySelectorAll('#choicesBox .choice')).forEach(x=>x.onclick=null);
    if (correct) {
      btn.classList.add('correct');
      score++;
    } else {
      btn.classList.add('wrong');
      mistakes.push({index:sceneIndex+1, q:sceneObj.q, selected:btn.innerText, correct:sceneObj.opts[sceneObj.a], why:sceneObj.explain});
    }
    sceneIndex++;
    setTimeout(renderScene, 700);
  }

  function finishGame() {
    document.getElementById('game').style.display = 'block';
    document.getElementById('after').style.display = 'block';
    const total = data[current].length;
    const res = document.getElementById('resultText');
    let txt = Oyun bitti â€” DoÄŸru: ${score}/${total}.;
    if (mistakes.length) {
      txt += '<br><br><b>YanlÄ±ÅŸ yaptÄ±ÄŸÄ±n sahneler:</b><ul style="text-align:left;margin-top:8px;">';
      mistakes.forEach(m=>{
        txt += <li><b>Sahne ${m.index}:</b> ${m.q}<br><span style="color:#ffdede"><b>Senin:</b> ${m.selected}</span> â€” <span style="color:#bde7c6"><b>DoÄŸru:</b> ${m.correct}</span><br><small style="color:#9aa5b1">${m.why}</small></li><br>;
      });
      txt += '</ul>';
    } else {
      txt += '<br><br>Tebrikler! TÃ¼m cevaplar doÄŸru.';
    }
    res.innerHTML = txt;
  }

  function backToSelection() {
    document.getElementById('game').style.display = 'none';
    document.getElementById('after').style.display = 'none';
    document.getElementById('detailTitle').innerText = 'SeÃ§im bekleniyor';
    document.getElementById('detailText').innerText = 'Bir afet seÃ§erek bilgi kartÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyebilir veya hemen oynamaya baÅŸlayabilirsin.';
    document.getElementById('detailButtons').innerHTML = '';
    current = null;
    sceneIndex = 0;
    score = 0;
    mistakes = [];
  }

  // baÅŸta seÃ§im ekranÄ±nda hiÃ§bir ÅŸey seÃ§ili deÄŸil
  // (istersen default birini seÃ§mek iÃ§in select('deprem') Ã§aÄŸÄ±r)
</script>

</body>
</html>
